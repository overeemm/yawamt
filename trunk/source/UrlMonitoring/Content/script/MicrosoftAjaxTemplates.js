//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
// MicrosoftAjaxTemplates.js
Type.registerNamespace("Sys.UI");Sys.Application.get_isDisposing=function(){return this._disposing};Sys.Application.disposeElement=function(a,b){this._disposeElementRecursive(a);if(!b)this._disposeElementInternal(a)};Sys.Application._disposeElementRecursive=function(d){if(d.nodeType===1){var c=d.childNodes;for(var b=c.length-1;b>=0;b--){var a=c[b];if(a.nodeType===1){Sys.Application._disposeElementInternal(a);this._disposeElementRecursive(a)}}}};Sys.Application._disposeElementInternal=function(a){var e=a.dispose;if(e&&typeof e==="function")a.dispose();else{var c=a.control;if(c&&typeof c.dispose==="function")c.dispose()}var b=a._behaviors;if(b)for(var d=b.length-1;d>=0;d--)b[d].dispose()};Sys.UI.DomElement._oldGetElementById=Sys.UI.DomElement.getElementById;Sys.UI.DomElement.getElementById=function(c,h){var a=Sys.UI.DomElement._oldGetElementById(c,h);if(!a&&!h&&Sys.UI.Template._contexts.length){var f=Sys.UI.Template._contexts;for(var d=0,i=f.length;d<i;d++){var g=f[d];for(var e=0,j=g.length;e<j;e++){var b=g[e];if(b.nodeType===1){if(b.id===c)return b;a=Sys.UI.DomElement._oldGetElementById(c,b);if(a)return a}}}}return a};if($get===Sys.UI.DomElement._oldGetElementById)$get=Sys.UI.DomElement.getElementById;Sys.UI.DomElement.isDomElement=function(a){var c=false;if(typeof a.nodeType!=="number"){var b=a.ownerDocument||a.document||a;if(b!=a){var d=b.defaultView||b.parentWindow;c=d!=a&&!(d.document&&a.document&&d.document===a.document)}else c=typeof b.body==="undefined"}return !c};Sys.Application.registerMarkupExtension=function(c,b,a){var d=Object.getType(b);if(!d.implementsInterface(Sys.UI.IMarkupExtension)){a=typeof a==="undefined"||a===true;b=new Sys.UI.GenericMarkupExtension(b,a)}if(!this._extensions)this._extensions={};this._extensions[c]=b};Sys.Application._getMarkupExtension=function(b){var a=this._extensions?this._extensions[b]:null;if(!a)throw Error.invalidOperation("A markup extension with the name '"+b+"' could not be found.");return a};Sys.Application.processNode=function(b,a,c){var a={userContext:a,localContext:{}};return Sys.Application._processNodeWithMappings(Sys.Application._getNamespaceMappings(null,[b]),b,a,c)};Sys.Application.processNodes=function(d,e,f){var e={userContext:e,localContext:{}},a,c=[];for(var b=0,g=d.length;b<g;b++){a=d[b];Array.addRange(c,Sys.Application._processNodeWithMappings(Sys.Application._getNamespaceMappings(null,[a]),a,e,f))}return c};Sys.Application._processNodeWithMappings=function(d,g,f,e){var a=[];Sys.Application._processNodeInternal(g,d,a,f,e);for(var b=0,h=a.length;b<h;b++){var c=a[b];if(Sys.Component.isInstanceOfType(c))c.endUpdate()}return a};Sys.Application._processNodeInternal=function(b,e,s,i,t){if(b.__msajaxactivated)return;var a,d,c,p=null,q=null;try{p=b.getAttribute(e.types)}catch(z){}try{q=b.getAttribute(e.sysKey)}catch(z){}if(q)i.localContext[q]=b;if(p){b.__msajaxactivated=true;var u=p.split(","),o={},l=[];for(a=0,d=u.length;a<d;a++){var h=u[a].trim();if(o[h])continue;var f=e.namespaces[h],r=f.inheritsFrom(Sys.Component);c=r&&(f.inheritsFrom(Sys.UI.Behavior)||f.inheritsFrom(Sys.UI.Control))?new f(b):new f;if(r){l.push(c);c.beginUpdate()}o[h]={instance:c,typeName:h,type:f};s.push(c)}for(a=0,d=b.attributes.length;a<d;a++){var g=b.attributes[a];if(!g.specified)continue;var m=g.nodeName;if(m===e.sysKey||m===e.types)continue;var n=Sys.Application._splitAttribute(m),w=n.ns;if(!w)continue;var j=o[w];if(!j)continue;if(n.name==="sys-key")i.localContext[g.nodeValue]=j.instance;else Sys.Application._setProperty(j.instance,j.type,n.name,g.nodeValue,i)}var k=Sys.Application,x=k.get_isCreatingComponents();for(a=0,d=l.length;a<d;a++){c=l[a];if(c.get_id())k.addComponent(c);if(x)k._createdComponents[k._createdComponents.length]=c}}if(t||typeof t==="undefined"){var y=b.className;if(!Sys.UI.Template._isTemplate(b))for(a=0,d=b.childNodes.length;a<d;a++){var v=b.childNodes[a];if(v.nodeType!==3)Sys.Application._processNodeInternal(v,e,s,i,true)}}};Sys.Application._splitAttribute=function(c){var a=c.split(":"),b=a.length>1?a[0]:null,d=a[b?1:0];return {ns:b,name:d}};Sys.Application._getBodyNamespaceMapping=function(){if(Sys.Application._bodyNamespaceMapping)return Sys.Application._bodyNamespaceMapping;var a={sysNamespace:"sys",types:"sys:attach",sysId:"sys:id",sysKey:"sys:key",sysActivate:"sys:activate",sysChecked:"sys:checked",styleNamespace:"style",classNamespace:"class",namespaces:{}};Sys.Application._getNamespaceMapping(a,document.body);Sys.Application._bodyNamespaceMapping=a;return a};Sys.Application._getNamespaceMappings=function(d,c){var b=d||Sys.Application._getBodyNamespaceMapping();for(var a=0,e=c.length;a<e;a++)Sys.Application._getNamespaceMapping(b,c[a]);return b};Sys.Application._getNamespaceMapping=function(namespaceMapping,element){var attributes=element.attributes;for(var i=0,l=attributes.length;i<l;i++){var attribute=attributes[i];if(!attribute.specified)continue;var attrib=Sys.Application._splitAttribute(attribute.nodeName);if(attrib.ns!=="xmlns")continue;var name=attrib.name,value=attribute.nodeValue.trim();if(value.toLowerCase().startsWith("javascript:")){value=value.substr(11).trimStart();if(value==="Sys")with(namespaceMapping){sysNamespace=name;types=name+":attach";sysId=name+":id";sysChecked=name+":checked";sysActivate=name+":activate";sysKey=name+":key"}else namespaceMapping.namespaces[name]=Type.parse(value)}else if(value==="http://schemas.microsoft.com/aspnet/style")namespaceMapping.styleNamespace=name;else if(value==="http://schemas.microsoft.com/aspnet/class")namespaceMapping.classNamespace=name}};Sys.Application._getExtensionCode=function(c,l,k){var e,a,j={},g=c.indexOf(" ");if(g!==-1){e=c.substr(0,g);a=c.substr(g+1).trim();if(a){a=a.replace(/\\,/g,"\x00").split(",");for(var i=0,m=a.length;i<m;i++){var d=a[i].replace(/\u0000/g,","),f=d.indexOf("="),b,h;if(f!==-1){h=d.substr(0,f).trim();b=d.substr(f+1).trim();if(l)b=this._getPropertyValue(null,null,b,k,true)}else{h="$default";b=d.trim()}j[h]=b}}}else e=c;return {instance:Sys.Application._getMarkupExtension(e),name:e,properties:j}};Sys.Application._getPropertyValue=function(f,g,a,d,e){var b=a;if(a.startsWith("{{")&&a.endsWith("}}"))b=this._evaluateExpression(a.slice(2,-2),d);else if(!e&&a.startsWith("{")&&a.endsWith("}")){var c=this._getExtensionCode(a.slice(1,-1),true,d);b=c.instance.provideValue(f,g,c.properties)}return b};Sys.Application._setProperty=function(c,e,b,a,f){a=Sys.Application._getPropertyValue(c,b,a,f);if(typeof a==="undefined")return;if(!Sys.Application._trySet(c,e,b,a)){var d=Sys.Application._mapToPrototype(b,e);if(d&&d!==b)Sys.Application._trySet(c,e,d,a);else c[b]=a}};Sys.Application._trySet=function(a,f,b,c){var d=a["set_"+b];if(typeof d==="function"){d.call(a,c);return true}var e=a["add_"+b];if(typeof e==="function"){e.call(a,new Function("sender","args",c));return true}if(typeof a[b]!=="undefined"){a[b]=c;return true}return false};Sys.Application._mapToPrototype=function(d,c){var b=Sys.Application._caseIndex[c.__typeName];if(!b){b={};c.resolveInheritance();for(var a in c.prototype){if(a.startsWith("get_")||a.startsWith("set_")||a.startsWith("add_"))a=a.substr(4);else if(a.startsWith("remove_"))a=a.substr(7);b[a.toLowerCase()]=a}Sys.Application._caseIndex[c.__typeName]=b}return b[d.toLowerCase()]};Sys.Application._doEval=function($expression,$context){with($context.localContext)with($context.userContext||{})return eval("("+$expression+")")};Sys.Application._evaluateExpression=function(b,a){return Sys.Application._doEval.call(a.userContext,b,a)};Sys.Application._caseIndex={};Sys.Application._activateOnPartial=function(a,c){var f=Sys.Application._activateList,g=false;if(c.indexOf("<!--*")!==-1){c='<span style="display:none !important">&nbsp;</span>'+c;g=true}this._updatePanelOld(a,c);if(g){var d=a.childNodes[0];if(d&&d.nodeType===1&&d.tagName.toUpperCase()==="SPAN")a.removeChild(d)}var e=f==="*"||a.id&&Array.contains(f,a.id);if(!e){var b=a;do{b=b.parentNode;if(b&&b.id&&Array.contains(f,b.id)){e=true;break}}while(b)}if(e)Sys.Application.processNode(a)};Sys.Application._activateDOM=function(){var f=Sys.Application._getBodyNamespaceMapping(),a=document.body.getAttribute(f.sysActivate),b;if(!a)return;if(a==="*")Sys.Application.processNode(document.body);else{var b=a.split(",");for(var d=0,g=b.length;d<g;d++){var e=document.getElementById(b[d].trim());if(e)Sys.Application.processNode(e)}}if(Sys.WebForms&&Sys.WebForms.PageRequestManager){Sys.Application._activateList=b||a;var c=Sys.WebForms.PageRequestManager.getInstance();c._updatePanelOld=c._updatePanel;c._updatePanel=Sys.Application._activateOnPartial}};Sys.Application.add_init(Sys.Application._activateDOM);Sys.UI.Template=function(a){this._element=a;this._createInstance=null;this._instanceId=0};Sys.UI.Template.prototype={get_element:function(){return this._element},dispose:function(){this._element=null;this._createInstance=null},_appendTextNode:function(b,a,c){b.push(a+"document.createTextNode("+Sys.Serialization.JavaScriptSerializer.serialize(c)+"));\n")},_trySet:function(d,f,a,b){f.resolveInheritance();var c=f.prototype,e="set_"+a,h=c[e];if(typeof h==="function"){d.push("  $component."+e+"("+b+");\n");return true}var g="add_"+a,i=c["add_"+a];if(typeof i==="function"){d.push("  $component."+g+'(new Function("sender", "args", '+b+"));\n");return true}if(typeof c[a]!=="undefined"){d.push("  $component."+a+" = "+b+";\n");return true}return false},_appendAttributeSetter:function(g,b,l,k,c,i,h){var d=k.ns,a=k.name;if(d)if(d===g.classNamespace){a=Sys.Serialization.JavaScriptSerializer.serialize(a);b.push("  ("+c+") ? Sys.UI.DomElement.addCssClass($element, "+a+") : Sys.UI.DomElement.removeCssClass($element, "+a+");\n");return}else if(d===g.styleNamespace){b.push("  $component = $element;\n  $element."+a+" = "+c+";\n;");return}else{var e=l[d];if(e){b.push("  $component = __componentIndex['"+d+"'];\n");if(a==="sys-key")b.push("  __context["+c+"] = $component;\n");else if(i){if(!this._trySet(b,e.type,a,c)){var f=Sys.Application._mapToPrototype(a,e.type);if(f&&f!==a)this._trySet(b,e.type,f,c);else b.push("  $component."+a+" = "+c+";\n")}}else b.push("  "+c+";\n");return}else a=d+":"+a}if(i){var j=a.toLowerCase();if(j.startsWith("on"))b.push("  $component = $element;\n  __f = new Function("+c+");\n  $element."+a+" = __f;\n");else if(j==="style")b.push("  $component = $element;\n  $element.style.cssText = "+c+";\n");else if(h)b.push("  $component = $element;\n  if ("+c+") {\n    __e = document.createAttribute('"+a+"');\n    __e.nodeValue = \""+h+'";\n    $element.setAttributeNode(__e);\n  }\n');else b.push("  $component = $element;\n  __e = document.createAttribute('"+a+"');\n  __e.nodeValue = "+c+";\n  $element.setAttributeNode(__e);\n")}else b.push("  $component = $element;\n  "+c+";\n")},_translateStyleName:function(b){if(b.indexOf("-")===-1)return b;var a=b.toLowerCase().split("-"),d=a[0];for(var c=1,f=a.length;c<f;c++){var e=a[c];d+=e.substr(0,1).toUpperCase()+e.substr(1)}return d},_processAttribute:function(c,f,e,b,a,d){a=this._getAttributeExpression(b,a);if(a)this._appendAttributeSetter(c,f,e,b,a.code,a.isExpression,d)},_getAttributeExpression:function(g,a){var i=typeof a;if(i==="undefined")return null;if(a===null)return {isExpression:true,code:"null"};if(i==="string")if(a.startsWith("{{")&&a.endsWith("}}"))return {isExpression:true,code:a.slice(2,-2).trim()};else if(a.startsWith("{")&&a.endsWith("}")){var e=Sys.Serialization.JavaScriptSerializer,d=Sys.Application._getExtensionCode(a.slice(1,-1)),f=d.properties,h="";for(var c in f){var b=this._getAttributeExpression(g,f[c]);if(b&&b.isExpression)h+=","+e.serialize(c)+":"+b.code}return {isExpression:d.instance.get_isExpression(),code:"__app._getMarkupExtension("+e.serialize(d.name)+").provideValue($component, "+e.serialize(g.name)+", {$dataItem:$dataItem,$index:$index,$id:$id"+h+"})"}}return {isExpression:true,code:Sys.Serialization.JavaScriptSerializer.serialize(a)}},_processBooleanAttribute:function(e,d,g,f,c){var a,b=e.getAttributeNode(d.sysNamespace+":"+c);if(!b){b=e.getAttributeNode(c);if(b&&(b.specified||b.nodeValue===true))a=true;else return}else{a=b.nodeValue;if(a==="true")a=true;else if(a==="false")return}this._processAttribute(d,g,f,{name:c},a,c)},_processBooleanAttributes:function(e,c,f,d,b){var i,j,h;for(var a=0,g=b.length;a<g;a++)this._processBooleanAttribute(e,c,f,d,b[a])},_getExplicitAttribute:function(e,h,f,c,d,b){var a;try{a=c.getAttributeNode(d)}catch(i){return null}if(!a||!a.specified)return null;if(b){var g=d==="style"?c.style.cssText:a.nodeValue;this._processAttribute(e,h,f,{name:b},g)}return a.nodeValue},_buildTemplateCode:function(u,c,z,a,G){var r,g,H,s,f,n,D=Sys.UI.Template.expressionRegExp,h="  "+(G?"__p[__d-1].appendChild(":"__topElements.push(");a.push("  __d++;\n");for(r=0,H=z.childNodes.length;r<H;r++){var b=z.childNodes[r],d=b.nodeValue;if(b.nodeType===8)if(d.startsWith("*")&&d.endsWith("*"))a.push("  "+d.slice(1,-1)+"\n");else a.push(h+"document.createComment("+Sys.Serialization.JavaScriptSerializer.serialize(d)+"));\n");else if(b.nodeType===3)if(d.startsWith("{")&&d.endsWith("}")&&!d.startsWith("{{")&&!d.startsWith("}}")){var x,t;if(z.tagName.toLowerCase()==="textarea"){x="value";t="$component=$element;\n"}else{x="nodeValue";t=h+'$element=$component=document.createTextNode(""));\n'}var B=this._getAttributeExpression({name:x},d);if(B.isExpression)a.push(h+"document.createTextNode("+B.code+"));\n");else a.push(t+"  "+B.code+";\n")}else{var j=D.exec(d),q=0;while(j){var E=d.substring(q,j.index);if(E)this._appendTextNode(a,h,E);a.push(h+"document.createTextNode("+j[1]+"));\n");q=j.index+j[0].length;j=D.exec(d)}if(q<d.length)this._appendTextNode(a,h,d.substr(q))}else{var F=b.attributes,i=null,v=null,e={},A=b.tagName.toLowerCase(),l,O=G+1;if(A==="script")continue;n=A==="input";if(n){var L=this._getAttributeExpression({name:"type"},b.getAttribute("type")),J=this._getAttributeExpression({name:"name"},b.getAttribute("name"));a.push("  $element=__p[__d]=Sys.UI.Template._createInput("+L.code+", "+J.code+");\n");l=Sys.UI.Template._inputBooleanAttributes;this._processBooleanAttributes(b,c,a,e,l)}else a.push("  $element=__p[__d]=document.createElement('"+b.nodeName+"');\n");i=this._getExplicitAttribute(c,a,e,b,c.types);if(i){i=i.split(",");a.push("  __componentIndex = {}\n");for(g=0,s=i.length;g<s;g++){f=i[g].trim();if(e[f])continue;var k=c.namespaces[f],w=k.inheritsFrom(Sys.Component),I=w&&(k.inheritsFrom(Sys.UI.Behavior)||k.inheritsFrom(Sys.UI.Control)),M=k.implementsInterface(Sys.UI.ITemplateContext);e[f]={type:k,isComponent:w};a.push("  __components.push(__componentIndex['"+f+"'] = $component = new "+k.getName());if(I)a.push("($element));\n");else a.push("());\n");if(w)a.push("  $component.beginUpdate();\n");if(M)a.push("  $component.set_parentContext({ dataItem: $dataItem || window, index: $index, id: $id, parentContext: $parentContext });\n")}}v=this._getExplicitAttribute(c,a,e,b,c.sysKey);if(v)a.push("  __context["+Sys.Serialization.JavaScriptSerializer.serialize(v)+"] = $element;\n");this._getExplicitAttribute(c,a,e,b,c.sysId,"id");this._getExplicitAttribute(c,a,e,b,"style","style");this._getExplicitAttribute(c,a,e,b,"class","class");if(!n){l=Sys.UI.Template._booleanAttributes[A]||Sys.UI.Template._commonBooleanAttributes;this._processBooleanAttributes(b,c,a,e,l)}for(g=0,s=F.length;g<s;g++){var y=F[g],p=y.nodeName,m=p.toLowerCase();if(!y.specified&&(!n||m!=="value"))continue;if(m==="class"||m==="style")continue;if(Array.indexOf(l,m)!==-1)continue;if(n&&Array.indexOf(Sys.UI.Template._inputRequiredAttributes,m)!==-1)continue;var o=Sys.Application._splitAttribute(p),C=o.ns,N=y.nodeValue;p=o.name;if(C)if(C===c.sysNamespace){if(Array.indexOf(Sys.UI.Template._sysAttributes,p)!==-1)continue;o.ns=null}else if(C===c.styleNamespace)o.name="style."+this._translateStyleName(p);this._processAttribute(c,a,e,o,N)}a.push(h+"$element);\n");for(f in e){index=e[f];if(index.isComponent)a.push("  if (($component=__componentIndex['"+f+"']).get_id()) __app.addComponent($component);\nif (__creatingComponents) __app._createdComponents[__app._createdComponents.length] = $component;\n")}if(Sys.UI.Template._isTemplate(b)){var K=new Sys.UI.Template(b);K.compile();u.push(b._msajaxtemplate);a.push("  $element._msajaxtemplate = this.get_element()._msajaxtemplate[1]["+(u.length-1)+"];\n")}else{this._buildTemplateCode(u,c,b,a,O);a.push("  $element=__p[__d];\n")}}}a.push("  --__d;\n")},compile:function(){if(!this._createInstance){var b=this.get_element();if(b._msajaxtemplate)this._createInstance=b._msajaxtemplate[0];else{var a=[" $index = (typeof($index) === 'number' ? $index : __instanceId);\n var __context = {}, $component, __app = Sys.Application, __creatingComponents = __app.get_isCreatingComponents(), __components = [], __componentIndex, __e, __f, __topElements = [], __d = 0, __p = [__containerElement], $id = Sys.UI.Template._getIdFunction($index), $element = __containerElement;\n Sys.UI.Template._contexts.push(__topElements);\n with(__context) { with($dataItem || {}) {\n"],d=Sys.Application._getNamespaceMappings(null,[b]),c=[];this._buildTemplateCode(c,d,b,a,0);a.push("} }\n  for (var __i = 0, __l = __topElements.length; __i < __l; __i++) {\n  __containerElement.appendChild(__topElements[__i]);\n }\n");a.push(" Sys.UI.Template._contexts.pop();\n");a.push(" return new Sys.UI.TemplateResult(this, __containerElement, __topElements, __components);");a=a.join("");b._msajaxtemplate=[this._createInstance=new Function("__containerElement","$dataItem","$index","$parentContext","__instanceId",a),c]}}},createInstance:function(b,d,c,a){this.compile();return this._createInstance(b,d,c,a,this._instanceId++)}};Sys.UI.Template._getIdFunction=function(a){return function(b){return b+a}};Sys.UI.Template._createInput=function(c,b){var a,e=Sys.UI.Template._dynamicInputs;if(e===true){a=document.createElement("input");if(c)a.type=c;if(b)a.name=b}else{var d="<input ";if(c)d+="type='"+c+"' ";if(b)d+="name='"+b+"' ";d+="/>";try{a=document.createElement(d)}catch(f){Sys.UI.Template._dynamicInputs=true;return Sys.UI.Template._createInput(c,b)}if(e!==false)if(a.tagName.toLowerCase()==="input")Sys.UI.Template._dynamicInputs=false;else{Sys.UI.Template._dynamicInputs=true;return Sys.UI.Template._createInput(c,b)}}return a};Sys.UI.Template._isTemplate=function(b){var a=b.className;return a&&(a==="sys-template"||Array.contains(a.split(" "),"sys-template"))};Sys.UI.Template._contexts=[];Sys.UI.Template._inputRequiredAttributes=["type","name"];Sys.UI.Template._commonBooleanAttributes=["disabled"];Sys.UI.Template._inputBooleanAttributes=["disabled","checked","readonly"];Sys.UI.Template._booleanAttributes={"input":Sys.UI.Template._inputBooleanAttributes,"select":["disabled","multiple"],"option":["disabled","selected"],"img":["disabled","ismap"],"textarea":["disabled","readonly"]};Sys.UI.Template._sysAttributes=["attach","id","key","disabled","checked","readonly","ismap","multiple","selected"];Sys.UI.Template.expressionRegExp=/\{\{\s*([\w\W]*?)\s*\}\}/g;Sys.UI.Template.registerClass("Sys.UI.Template",null,Sys.IDisposable);Sys.UI.TemplateResult=function(d,b,c,a){this._template=d;this._container=b;this._elements=c;this._components=a};Sys.UI.TemplateResult.prototype={get_container:function(){return this._container||null},get_components:function(){return this._components||[]},get_elements:function(){return this._elements||[]},get_template:function(){return this._template||null},dispose:function(){var a=this.get_elements();if(a)for(var b=0,d=a.length;b<d;b++){var c=a[b];if(c.nodeType===1)Sys.Application.disposeElement(c,false)}this._template=null;this._elements=null;this._components=null;this._container=null},initializeComponents:function(){var b=this.get_components();if(b)for(var c=0,d=b.length;c<d;c++){var a=b[c];if(Sys.Component.isInstanceOfType(a))if(a.get_isUpdating())a.endUpdate();else if(!a.get_isInitialized())a.initialize()}}};Sys.UI.TemplateResult.registerClass("Sys.UI.TemplateResult",null,Sys.IDisposable);Sys.UI.ITemplateContext=function(){};Sys.UI.ITemplateContext.prototype={get_parentContext:function(){throw Error.notImplemented()},set_parentContext:function(){throw Error.notImplemented()}};Sys.UI.ITemplateContext.registerInterface("Sys.UI.ITemplateContext");Sys.UI.IMarkupExtension=function(){};Sys.UI.IMarkupExtension.prototype={get_isExpression:function(){throw Error.notImplemented()},provideValue:function(){throw Error.notImplemented()}};Sys.UI.IMarkupExtension.registerInterface("Sys.UI.IMarkupExtension");Sys.UI.GenericMarkupExtension=function(a,b){this._provideValue=a;this._isExpression=b};Sys.UI.GenericMarkupExtension.prototype={get_isExpression:function(){return this._isExpression},provideValue:function(c,a,b){return this._provideValue(c,a,b)}};Sys.UI.GenericMarkupExtension.registerClass("Sys.UI.GenericMarkupExtension",null,Sys.UI.IMarkupExtension);Sys.CollectionChange=function(e,a,c,b,d){this.action=e;if(a)if(!(a instanceof Array))a=[a];this.newItems=a||null;if(typeof c!=="number")c=-1;this.newStartingIndex=c;if(b)if(!(b instanceof Array))b=[b];this.oldItems=b||null;if(typeof d!=="number")d=-1;this.oldStartingIndex=d};Sys.CollectionChange.registerClass("Sys.CollectionChange");Sys.NotifyCollectionChangedAction=function(){throw Error.notImplemented()};Sys.NotifyCollectionChangedAction.prototype={add:0,remove:1,reset:2};Sys.NotifyCollectionChangedAction.registerEnum("Sys.NotifyCollectionChangedAction");Sys.NotifyCollectionChangedEventArgs=function(a){this._changes=a};Sys.NotifyCollectionChangedEventArgs.prototype={get_changes:function(){return this._changes}};Sys.NotifyCollectionChangedEventArgs.registerClass("Sys.NotifyCollectionChangedEventArgs",Sys.EventArgs);Sys.Observer=function(){};Sys.Observer.registerClass("Sys.Observer");Sys.Observer.observe=function(a){var c=a instanceof Array,b=Sys.Observer;if(a.setValue===b._observeMethods.setValue)return a;b._addMethods(a,b._observeMethods);if(c)b._addMethods(a,b._arrayMethods);return a};Sys.Observer._addMethods=function(c,b){for(var a in b)c[a]=b[a]};Sys.Observer._addEventHandler=function(c,a,b){Sys.Observer._getContext(c,true).events.addHandler(a,b)};Sys.Observer.addEventHandler=function(c,a,b){Sys.Observer._addEventHandler(c,a,b)};Sys.Observer._removeEventHandler=function(c,a,b){Sys.Observer._getContext(c,true).events.removeHandler(a,b)};Sys.Observer.removeEventHandler=function(c,a,b){Sys.Observer._removeEventHandler(c,a,b)};Sys.Observer._raiseEvent=function(b,e,d){var c=Sys.Observer._getContext(b);if(!c)return;var a=c.events.getHandler(e);if(a)a(b,d)};Sys.Observer.raiseEvent=function(c,b,a){Sys.Observer._raiseEvent(c,b,a)};Sys.Observer.addPropertyChanged=function(b,a){Sys.Observer._addEventHandler(b,"propertyChanged",a)};Sys.Observer.removePropertyChanged=function(b,a){Sys.Observer._removeEventHandler(b,"propertyChanged",a)};Sys.Observer._beginUpdate=function(a){Sys.Observer._getContext(a,true).updating=true};Sys.Observer.beginUpdate=function(a){Sys.Observer._beginUpdate(a)};Sys.Observer._endUpdate=function(b){var a=Sys.Observer._getContext(b);if(!a||!a.updating)return;a.updating=false;var d=a.dirty;a.dirty=false;if(d){if(b instanceof Array){var c=a.changes;a.changes=null;Sys.Observer.raiseCollectionChanged(b,c)}Sys.Observer.raisePropertyChanged(b,"")}};Sys.Observer.endUpdate=function(a){Sys.Observer._endUpdate(a)};Sys.Observer._isUpdating=function(b){var a=Sys.Observer._getContext(b);return a?a.updating:false};Sys.Observer.isUpdating=function(a){return Sys.Observer._isUpdating(a)};Sys.Observer._setValue=function(a,e,i){var b=e.split(".");for(var d=0,k=b.length-1;d<k;d++){var j=b[d],g=a["get_"+j];if(typeof g==="function")a=g.call(a);else a=a[j];var l=typeof a;if(a===null||l==="undefined")throw Error.invalidOperation(String.format(Sys.TemplateRes.nullReferenceInPath,e))}var f=b[k],h=a["set_"+f];if(typeof h==="function")h.call(a,i);else a[f]=i;var c=Sys.Observer._getContext(a);if(c&&c.updating){c.dirty=true;return}Sys.Observer.raisePropertyChanged(a,b[0])};Sys.Observer.setValue=function(b,a,c){Sys.Observer._setValue(b,a,c)};Sys.Observer.raisePropertyChanged=function(b,a){Sys.Observer._raiseEvent(b,"propertyChanged",new Sys.PropertyChangedEventArgs(a))};Sys.Observer.addCollectionChanged=function(b,a){Sys.Observer._addEventHandler(b,"collectionChanged",a)};Sys.Observer.removeCollectionChanged=function(b,a){Sys.Observer._removeEventHandler(b,"collectionChanged",a)};Sys.Observer._collectionChange=function(d,c){var a=Sys.Observer._getContext(d);if(a&&a.updating){a.dirty=true;var b=a.changes;if(!b)a.changes=b=[c];else b.push(c)}else{Sys.Observer.raiseCollectionChanged(d,[c]);Sys.Observer.raisePropertyChanged(d,"length")}};Sys.Observer._add=function(a,b){var c=new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.add,[b],a.length);Array.add(a,b);Sys.Observer._collectionChange(a,c)};Sys.Observer.add=function(a,b){Sys.Observer._add(a,b)};Sys.Observer._addRange=function(a,b){var c=new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.add,b,a.length);Array.addRange(a,b);Sys.Observer._collectionChange(a,c)};Sys.Observer.addRange=function(a,b){Sys.Observer._addRange(a,b)};Sys.Observer._clear=function(a){Array.clear(a);Sys.Observer._collectionChange(a,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.reset))};Sys.Observer.clear=function(a){Sys.Observer._clear(a)};Sys.Observer._insert=function(a,b,c){Array.insert(a,b,c);Sys.Observer._collectionChange(a,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.add,[c],b))};Sys.Observer.insert=function(a,b,c){Sys.Observer._insert(a,b,c)};Sys.Observer._remove=function(a,b){var c=Array.indexOf(a,b);if(c!==-1){Array.remove(a,b);Sys.Observer._collectionChange(a,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.remove,null,-1,[b],c));return true}return false};Sys.Observer.remove=function(a,b){return Sys.Observer._remove(a,b)};Sys.Observer._removeAt=function(b,a){if(a>-1&&a<b.length){var c=b[a];Array.removeAt(b,a);Sys.Observer._collectionChange(b,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.remove,null,-1,[c],a))}};Sys.Observer.removeAt=function(a,b){Sys.Observer._removeAt(a,b)};Sys.Observer.raiseCollectionChanged=function(b,a){Sys.Observer._raiseEvent(b,"collectionChanged",new Sys.NotifyCollectionChangedEventArgs(a))};Sys.Observer._observeMethods={add_propertyChanged:function(a){Sys.Observer._addEventHandler(this,"propertyChanged",a)},remove_propertyChanged:function(a){Sys.Observer._removeEventHandler(this,"propertyChanged",a)},addEventHandler:function(a,b){Sys.Observer._addEventHandler(this,a,b)},removeEventHandler:function(a,b){Sys.Observer._removeEventHandler(this,a,b)},get_isUpdating:function(){return Sys.Observer._isUpdating(this)},beginUpdate:function(){Sys.Observer._beginUpdate(this)},endUpdate:function(){Sys.Observer._endUpdate(this)},setValue:function(b,a){Sys.Observer._setValue(this,b,a)},raiseEvent:function(b,a){Sys.Observer._raiseEvent(this,b,a)},raisePropertyChanged:function(a){Sys.Observer._raiseEvent(this,"propertyChanged",new Sys.PropertyChangedEventArgs(a))}};Sys.Observer._arrayMethods={add_collectionChanged:function(a){Sys.Observer._addEventHandler(this,"collectionChanged",a)},remove_collectionChanged:function(a){Sys.Observer._removeEventHandler(this,"collectionChanged",a)},add:function(a){Sys.Observer._add(this,a)},addRange:function(a){Sys.Observer._addRange(this,a)},clear:function(){Sys.Observer._clear(this)},insert:function(a,b){Sys.Observer._insert(this,a,b)},remove:function(a){return Sys.Observer._remove(this,a)},removeAt:function(a){Sys.Observer._removeAt(this,a)},raiseCollectionChanged:function(a){Sys.Observer._raiseEvent(this,"collectionChanged",new Sys.NotifyCollectionChangedEventArgs(a))}};Sys.Observer._getContext=function(b,c){var a=b._observerContext;if(a)return a();if(c)return (b._observerContext=Sys.Observer._createContext())();return null};Sys.Observer._createContext=function(){var a={events:new Sys.EventHandlerList};return function(){return a}};Sys.BindingMode=function(){};Sys.BindingMode.prototype={auto:0,oneTime:1,oneWay:2,twoWay:3,oneWayToSource:4};Sys.BindingMode.registerEnum("Sys.BindingMode");Sys.Binding=function(){Sys.Binding.initializeBase(this)};Sys.Binding.prototype={_convert:null,_convertBack:null,_convertFn:null,_convertBackFn:null,_handlers:null,_ignoreErrors:false,_mode:Sys.BindingMode.auto,_path:null,_targetProperty:null,_source:null,_target:null,_updateSource:false,_updateTarget:false,get_convert:function(){return this._convert||null},set_convert:function(a){this._convert=a;this._convertFn=this._resolveFunction(a)},get_convertBack:function(){return this._convertBack||null},set_convertBack:function(a){this._convertBack=a;this._convertBackFn=this._resolveFunction(a)},get_ignoreErrors:function(){return this._ignoreErrors},set_ignoreErrors:function(a){this._ignoreErrors=a},get_mode:function(){return this._mode},set_mode:function(a){this._mode=a},get_source:function(){return this._source||null},set_source:function(a){this._source=a},get_path:function(){return this._path||""},set_path:function(a){this._path=a;this._pathArray=a?a.split("."):null},get_target:function(){return this._target||null},set_target:function(a){this._target=a},get_targetProperty:function(){return this._targetProperty||""},set_targetProperty:function(a){this._targetProperty=a;this._targetPropertyArray=a?a.split("."):null},_addBinding:function(a){if(a.nodeType===3){a=a.parentNode;if(!a)return}var b=a._msajaxBindings;if(!b)a._msajaxBindings=[this];else b.push(this);if(typeof a.dispose!=="function")a.dispose=Sys.Binding._disposeBindings},_disposeHandlers:function(){for(var c=0,d=this._handlers.length;c<d;c++){var a=this._handlers[c],b=a[2];switch(a[0]){case "click":case "keyup":case "change":Sys.UI.DomEvent.removeHandler(b,a[0],a[1]);break;case "propertyChanged":if(b.remove_propertyChanged)b.remove_propertyChanged(a[1]);else Sys.Observer.removePropertyChanged(b,a[1]);break;case "disposing":b.remove_disposing(a[1])}}},dispose:function(){if(this._handlers){this._disposeHandlers();delete this._handlers}this._convert=null;this._convertBack=null;this._convertFn=null;this._convertBackFn=null;this._source=null;this._target=null;this._pathArray=null;this._targetPropertyArray=null;Sys.Binding.callBaseMethod(this,"dispose")},_getDefaultMode:function(a){if(Sys.UI.DomElement.isDomElement(a)){if(a.nodeType===1){var b=a.tagName.toLowerCase();if(b==="input"||b==="select"||b==="textarea")return Sys.BindingMode.twoWay}}else if(Sys.INotifyPropertyChange.isImplementedBy(a))return Sys.BindingMode.twoWay;return Sys.BindingMode.oneWay},_getPropertyFromIndex:function(a,c,d){for(var b=0;b<=d;b++){a=this._getPropertyData(a,c[b]);var e=typeof a;if(b<c.length-1&&(a===null||e==="undefined"))throw Error.invalidOperation(String.format(Sys.TemplateRes.nullReferenceInPath,c.join(".")))}return a},_getPropertyData:function(b,a){if(typeof b["get_"+a]==="function")return b["get_"+a]();else return b[a]},_hookEvent:function(a,c,e){var f;if(Sys.UI.DomElement.isDomElement(a)){if(a.nodeType===1){thisHandler=Function.createDelegate(this,c);Array.add(this._handlers,["propertyChanged",thisHandler,a]);if(a.add_propertyChanged)a.add_propertyChanged(thisHandler);else Sys.Observer.addPropertyChanged(a,thisHandler);var b=a.tagName.toLowerCase();if(b==="input"||b==="select"||b==="textarea"){var d=a.type;if(b==="input"&&d&&(d.toLowerCase()==="checkbox"||d.toLowerCase()==="radio")){thisHandler=Function.createDelegate(this,c);Array.add(this._handlers,["click",thisHandler,a]);Sys.UI.DomEvent.addHandler(a,"click",thisHandler)}if(b==="select"){thisHandler=Function.createDelegate(this,c);Array.add(this._handlers,["keyup",thisHandler,a]);Sys.UI.DomEvent.addHandler(a,"keyup",thisHandler)}thisHandler=Function.createDelegate(this,c);Array.add(this._handlers,["change",thisHandler,a]);Sys.UI.DomEvent.addHandler(a,"change",thisHandler);this._addBinding(a)}}}else{thisHandler=Function.createDelegate(this,e);Array.add(this._handlers,["propertyChanged",thisHandler,a]);if(a.add_propertyChanged)a.add_propertyChanged(thisHandler);else Sys.Observer.addPropertyChanged(a,thisHandler);if(Sys.INotifyDisposing.isImplementedBy(a)){thisHandler=Function.createDelegate(this,this._onDisposing);Array.add(this._handlers,["disposing",thisHandler,a]);a.add_disposing(thisHandler)}}},_onDisposing:function(){this.dispose()},_resolveFunction:function(a){var b;if(typeof a==="function")b=a;else try{b=Type.parse(a)}catch(c){throw Error.invalidOperation(String.format(Sys.TemplateRes.functionNotFound,a))}return b},update:function(a){a=a||this.get_mode();if(a===Sys.BindingMode.oneWayToSource){delete this._lastTarget;this._onTargetPropertyChanged()}else{delete this._lastSource;this._onSourcePropertyChanged()}},initialize:function(){var c=this.get_source(),b=this.get_target(),a=this.get_mode();Sys.Binding.callBaseMethod(this,"initialize");if(a===Sys.BindingMode.auto)a=this._getDefaultMode(b);this.update(a);this._handlers=[];if(a!==Sys.BindingMode.oneWayToSource)this._hookEvent(c,this._onSourcePropertyChanged,this._onComponentSourceChanged);else if(Sys.UI.DomElement.isDomElement(c))this._addBinding(c);if(a!==Sys.BindingMode.oneWay)this._hookEvent(b,this._onTargetPropertyChanged,this._onComponentTargetChanged);else if(Sys.UI.DomElement.isDomElement(b))this._addBinding(b)},_onComponentSourceChanged:function(c,b){var a=b.get_propertyName();if(a===""||a===this._pathArray[0])this._onSourcePropertyChanged()},_onComponentTargetChanged:function(c,b){var a=b.get_propertyName();if(a===""||a===this._targetPropertyArray[0])this._onTargetPropertyChanged()},_onSourcePropertyChanged:function(){var a=this._getPropertyFromIndex(this.get_source(),this._pathArray,this._pathArray.length-1);if(!this._updateSource&&a!==this._lastSource)try{this._updateTarget=true;this._lastSource=this._lastTarget=a;if(this._convertFn)if(this._ignoreErrors)try{a=this._convertFn(a,this)}catch(d){}else a=this._convertFn(a,this);var b=this._targetPropertyArray.length,c=this._getPropertyFromIndex(this.get_target(),this._targetPropertyArray,b-2);Sys.Observer.setValue(c,this._targetPropertyArray[b-1],a)}finally{this._updateTarget=false}},_onTargetPropertyChanged:function(){var a=this._getPropertyFromIndex(this.get_target(),this._targetPropertyArray,this._targetPropertyArray.length-1);if(!this._updateTarget&&a!==this._lastTarget)try{this._updateSource=true;this._lastTarget=this._lastSource=a;if(this._convertBackFn)if(this._ignoreErrors)try{a=this._convertBackFn(a,this)}catch(d){}else a=this._convertBackFn(a,this);var b=this._pathArray.length,c=this._getPropertyFromIndex(this.get_source(),this._pathArray,b-2);Sys.Observer.setValue(c,this._pathArray[b-1],a)}finally{this._updateSource=false}}};Sys.Binding._disposeBindings=function(){var a=this._msajaxBindings;if(a)for(var b=0,c=a.length;b<c;b++)a[b].dispose();this._msajaxBindings=null;if(this.control&&typeof this.control.dispose==="function")this.control.dispose();if(this.dispose===Sys.Binding._disposeBindings)this.dispose=null};Sys.Binding.registerClass("Sys.Binding",Sys.Component);Sys.Application.registerMarkupExtension("binding",function(f,e,a){var d=a.mode,h=a.convert,g=a.convertBack,c=a.ignoreErrors,b=new Sys.Binding;if(d){if(typeof d==="string")d=Sys.BindingMode.parse(d)}else d=Sys.BindingMode.auto;b.set_source(a.source||a.$dataItem);b.set_path(a.path||a.$default);b.set_target(f);b.set_targetProperty(e);b.set_mode(d);if(a.convert)b.set_convert(a.convert);if(a.convertBack)b.set_convertBack(a.convertBack);if(c){if(typeof c==="string")c=Boolean.parse(c);else c=!!c;b.set_ignoreErrors(c)}b.initialize()},false);Sys.UI.DataView=function(a){Sys.UI.DataView.initializeBase(this,[a])};Sys.UI.DataView.prototype={_data:null,_eventType:0,_template:null,_dvTemplate:null,_parentContext:null,_results:null,_changed:false,_dirty:false,_setData:false,_currentPlaceholder:null,_useRemove:false,add_itemCreated:function(a){this.get_events().addHandler("itemCreated",a)},remove_itemCreated:function(a){this.get_events().removeHandler("itemCreated",a)},get_data:function(){return this._data},set_data:function(a){if(!this._setData||this._data!==a){this._swapData(this._data,a);this._data=a;this._dirty=this._setData=true;if(this._isActive()){this.raisePropertyChanged("data");this._render()}else this._changed=true}},get_itemPlaceholder:function(){return this._placeholder||null},set_itemPlaceholder:function(a){if(this._placeholder!==a){this._placeholder=a;this._dirty=true;this._useRemove=false;this.raisePropertyChanged("itemPlaceholder")}},get_parentContext:function(){return this._parentContext||null},set_parentContext:function(a){if(this._parentContext!==a){this._parentContext=a;this._dirty=true;this.raisePropertyChanged("parentContext")}},get_template:function(){return this._template||null},set_template:function(a){if(this._template!==a){this._template=a;this._useRemove=false;this._dirty=true;if(this._isActive()){this.raisePropertyChanged("template");if(this._setData)this._render()}else this._changed=true}},_getTemplate:function(){var a=this.get_template();if(!a)return null;if(typeof a==="string")a=this._resolveElement(a);if(this._dvTemplate&&this._dvTemplate!==a){this._dvTemplate.dispose();this._dvTemplate=null}return a},_clearElement:function(a){Sys.Application.disposeElement(a,true);if(this._useRemove)this._removeAll(a);else try{a.innerHTML=""}catch(b){this._removeAll(a);this._useRemove=true}},_collectionChanged:function(){if(this._isActive())this._render();else this._dirty=true},_elementContains:function(b,a){while(a){if(a===b)return true;a=a.parentNode}return false},_removeAll:function(a){while(a.firstChild)a.removeChild(a.firstChild)},_resolveElement:function(a){return Sys.UI.DomElement.getElementById(a)},_getTemplateAndPlaceholder:function(){var b=this._dvTemplate||this._getTemplate(),a=this.get_itemPlaceholder(),c=this.get_element();if(typeof a==="String")a=this._resolveElement(a);if(!b){this._dvTemplate=new Sys.UI.Template(c);return {template:this._dvTemplate,placeholder:c}}if(!Sys.UI.Template.isInstanceOfType(b))this._dvTemplate=b=new Sys.UI.Template(b);if(!a)if(this._elementContains(c,b.get_element()))a=b.get_element();else{var d=this.get_id();if(d)a=Sys.UI.DomElement.getElementById(d+"_item",this.get_element())}return {template:b,placeholder:a||c}},_initializeResults:function(){for(var a=0,b=this._results.length;a<b;a++)this._results[a].initializeComponents()},_isActive:function(){return this.get_isInitialized()&&!this.get_isUpdating()},_raiseItemCreated:function(b){this.onItemCreated(b);var a=this.get_events().getHandler("itemCreated");if(a)a(this,b)},_render:function(){this._dirty=false;var i=this._getTemplateAndPlaceholder(),d=i.template,a=i.placeholder,b=this.get_data(),h=this.get_parentContext(),c,f=this._currentPlaceholder;this._currentPlaceholder=a;if(f&&f!==a)this._clearElement(f);if(!d||!a)return;d.compile();this._clearElement(a);if(d.get_element()===a)Sys.UI.DomElement.removeCssClass(a,"sys-template");if(b===null||typeof b==="undefined")this._results=[];else if(b instanceof Array){var j=b.length;this._results=new Array(j);for(var e=0;e<j;e++){var g=b[e];c=d.createInstance(a,g,e,h);this._raiseItemCreated(new Sys.UI.DataViewItemEventArgs(g,c));this._results[e]=c}}else{c=d.createInstance(a,b,0,h);this.onItemCreated(new Sys.UI.DataViewItemEventArgs(b,c));this._results=[c]}this._initializeResults()},_swapData:function(b,a){if(b)switch(this._eventType){case 1:b.remove_collectionChanged(this._changedHandler);break;case 2:Sys.Observer.removeCollectionChanged(b,this._changedHandler)}this._eventType=0;if(a){if(!this._changedHandler)this._changedHandler=Function.createDelegate(this,this._collectionChanged);if(typeof a.add_collectionChanged==="function"){a.add_collectionChanged(this._changedHandler);this._eventType=1}else if(a instanceof Array){Sys.Observer.addCollectionChanged(a,this._changedHandler);this._eventType=2}}},dispose:function(){if(this._currentPlaceholder&&!Sys.Application.get_isDisposing())Sys.Application.disposeElement(this._currentPlaceholder,true);if(this._dvTemplate)this._dvTemplate.dispose();this._swapData(this._data,null);this._currentPlaceholder=this._placeholder=this._results=this._parentContext=this._dvTemplate=this._currentPlaceholder=this._data=null;Sys.UI.DataView.callBaseMethod(this,"dispose")},initialize:function(){Sys.UI.DataView.callBaseMethod(this,"initialize");if(this._setData)this._render()},onItemCreated:function(){},updated:function(){if(this._changed){this.raisePropertyChanged("");this._changed=false}if(this._dirty&&this._setData)this._render()}};Sys.UI.DataView.registerClass("Sys.UI.DataView",Sys.UI.Control,Sys.UI.ITemplateContext);Sys.UI.DataViewItemEventArgs=function(b,a){Sys.UI.DataViewItemEventArgs.initializeBase(this);this._result=a||null;this._data=b||null};Sys.UI.DataViewItemEventArgs.prototype={get_dataItem:function(){return this._data},get_templateResult:function(){return this._result}};Sys.UI.DataViewItemEventArgs.registerClass("Sys.UI.DataViewItemEventArgs",Sys.EventArgs);Sys.TemplateRes={"nullReferenceInPath":"Null reference while evaluating data path: '{0}'.","invalidHandler":"Trying to dispose an invalid handler: '{0}'."};Boolean._oldParse=Boolean.parse;Boolean.parse=function(a){return Boolean._oldParse(a)};Date._oldParse=Date.parse;Date.parse=function(a){return Date._oldParse(a)};Number._oldParseLocale=Number.parseLocale;Number.parseLocale=function(a){return Number._oldParseLocale(a)};Number._oldParseInvariant=Number.parseInvariant;Number.parseInvariant=function(a){return Number._oldParseInvariant(a)};